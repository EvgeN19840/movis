function isPromise(p) {
  return p && typeof p.then === 'function';
}

function createThunkExtMiddleware(extraArgument) {
  return function (_ref) {
    var dispatch = _ref.dispatch,
        getState = _ref.getState;
    return function (next) {
      return function (action) {
        if (typeof action === 'function') {
          var result = action(dispatch, getState, extraArgument);
          if (isPromise(result)) return result.then(dispatch);
          return result;
        }
        return next(action);
      };
    };
  };
}

var thunkExt = createThunkExtMiddleware();
thunkExt.withExtraArgument = createThunkExtMiddleware;

export default thunkExt;